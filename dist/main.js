(()=>{"use strict";var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{n:()=>h,q:()=>m,F8:()=>y});class t{constructor(e,t,n=[],s=[]){this.name=e,this.id=t,this.list=n,this.date=s}}const n=document.querySelector("#todoadd");function s(e,t,n){const s=document.createElement("div");document.querySelector(".ls-todos").prepend(s),s.setAttribute("class","list-styling"),s.innerHTML="",s.innerHTML=`<div class ="taskName">${e}</div> <span class="dueDate"> ${t} </span>\n  <span class="priorityLevel">${n}\n  </span>\n    <div id="icons">\n    <button class = "ex"><i class="fas fa-trash"></i></button> \n     <button class ="edit"><i class="fas fa-edit"></i></button>\n     </div>`,m.forEach((s=>{if(s.name.includes(h.textContent)){let l={task:`${e}`,date:`${t}`,priority:`${n}`};s.list.push(l),s.date.push(t),localStorage.setItem("projects",JSON.stringify(m)),document.querySelector(".fas").addEventListener("click",(function(){r(this)}))}}))}const l=()=>{let e=document.querySelector(".list-styling"),t=document.getElementById("myModal"),n=document.getElementsByClassName("close")[0];e.onclick=function(){let e,n,l,o,i=this.childNodes[0],c=this;t.style.display="block";let a=document.querySelector(".modal-content");e=document.createElement("input"),e.setAttribute("class","task-modal"),e.value=this.childNodes[0].textContent,n=document.createElement("input"),n.value=this.childNodes[2].textContent,n.setAttribute("class","date-modal"),console.log(n.value),l=document.createElement("input"),l.value=this.childNodes[4].textContent,l.setAttribute("class","prio-modal"),o=document.createElement("input"),o.setAttribute("class","notes-modal"),a.innerHTML="",a.appendChild(e),a.appendChild(n),a.appendChild(l),a.appendChild(o);let r=document.createElement("btn");r.setAttribute("class","modal-submit"),r.innerHTML="Submit",a.appendChild(r),r.addEventListener("click",(function(){d(i.textContent,c),s(e.value,n.value,l.value),t.style.display="none"}))},n.onclick=function(){t.style.display="none"},window.onclick=function(e){e.target==t&&(t.style.display="none")}},o=document.querySelector(".ls-todos"),i=e=>{var t=document.getElementsByClassName("active");t.length>0&&(t[0].className=t[0].className.replace(" active","")),h.innerHTML=e.innerHTML,e.className+=" active"},c=e=>{for(let t=0;t<m.length;t++)m[t].name.includes(e.textContent)&&(o.innerHTML="",m[t].list.forEach((e=>{const t=document.createElement("div");t.innerHTML=`<div class ="taskName">${e.task}</div> \n        <span class ="dueDate">${e.date}</span>\n        <span class="priorityLevel">${e.priority} </span>   \n        <div id="icons">\n        <button class = "ex"><i class="fas fa-trash"></i></button> \n         <button class ="edit"><i class="fas fa-edit"></i></button>\n         </div>`,t.setAttribute("class","list-styling"),o.prepend(t),document.querySelector(".fa-trash").addEventListener("click",(function(){r(this)})),l(),document.querySelector(".fa-edit").addEventListener("click",(function(){console.log("e")}))})))},a=()=>{const e=document.createElement("input"),n=document.createElement("br"),s=document.createElement("button"),l=document.querySelector(".main");l.appendChild(n),l.appendChild(e),e.setAttribute("type","text"),e.setAttribute("class","bookInput"),l.appendChild(s),s.innerHTML="Submit",s.setAttribute("id","projectsubmit"),s.addEventListener("click",(function(){const n=document.createElement("div");n.setAttribute("class","projecttitles"),n.innerHTML=e.value;const a=new t(`${e.value}`,`${m.length}`);m.push(a),localStorage.setItem("projects",JSON.stringify(m)),e.style.display="none",s.style.display="none",l.appendChild(n),n.addEventListener("click",(function(){i(this),console.log("here now"),o.innerHTML="",c(this)}))}))},r=e=>{for(let n=0;n<m.length;n++){let s=e.parentElement.parentElement.parentElement.firstChild.textContent;var t=m[n].list.map((function(e){return e.task})).indexOf(s);m[n].list.splice(t,1),localStorage.setItem("projects",JSON.stringify(m)),e.parentElement.parentElement.parentElement.style.display="none"}},d=(e,t)=>{for(let s=0;s<m.length;s++){var n=m[s].list.map((function(e){return e.task})).indexOf(e);m[s].list.splice(n,1),localStorage.setItem("projects",JSON.stringify(m)),t.innerHTML="",t.style.display="none"}};let u=JSON.parse(localStorage.getItem("projects")),m=[];const p=document.querySelector("#projectadd");u&&(m=u),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".main");null!==localStorage.getItem("projects")&&m.forEach((t=>{const n=document.createElement("div");n.setAttribute("class","projecttitles"),n.innerHTML=t.name,e.appendChild(n),console.log(t)}))})()),p.addEventListener("click",(function(){a()})),n.addEventListener("click",(function(){s(v.value,f.value,E.value)}));const y=document.querySelectorAll(".projecttitles"),h=document.querySelector("#project-name");y.forEach((e=>{e.addEventListener("click",(function(){i(this),c(this),console.log(this.textContent)}))})),console.log(m);const v=document.querySelector(".task-input"),f=document.querySelector("#start"),E=document.querySelector("#priority")})();