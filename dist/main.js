(()=>{"use strict";var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{n:()=>h,q:()=>u,F8:()=>p});class t{constructor(e,t,n=[],s=[]){this.name=e,this.id=t,this.list=n,this.date=s}}const n=document.querySelector("#todoadd");function s(e,t,n){const s=document.createElement("div");document.querySelector(".ls-todos").prepend(s),s.setAttribute("class","list-styling"),s.innerHTML=`<div class ="taskName">${e}</div> <span class="dueDate"> Due: ${t} </span>\n  <span class="priorityLevel">${n}\n  </span>\n    <div id="icons">\n    <button class = "ex"><i class="fas fa-trash"></i></button> \n     <button class ="edit"><i class="fas fa-edit"></i></button>\n     </div>`,u.forEach((s=>{if(s.name.includes(h.textContent)){let l={task:`${e}`,date:`${t}`,priority:`${n}`};s.list.push(l),s.date.push(t),localStorage.setItem("projects",JSON.stringify(u)),document.querySelector(".fas").addEventListener("click",(function(){r(this)}))}}))}const l=()=>{let e=document.querySelector(".list-styling"),t=document.getElementById("myModal"),n=document.getElementsByClassName("close")[0];e.onclick=function(){let e,n,l,o;t.style.display="block";let c=document.querySelector(".modal-content");console.log(this.childNodes[0]),console.log(this.childNodes[2]),console.log(this.childNodes[4]),e=document.createElement("input"),e.setAttribute("class","task-modal"),e.value=this.childNodes[0].textContent,n=document.createElement("input"),n.value=this.childNodes[2].textContent,n.setAttribute("class","date-modal"),l=document.createElement("input"),l.value=this.childNodes[4].textContent,l.setAttribute("class","prio-modal"),o=document.createElement("input"),o.setAttribute("class","notes-modal"),c.innerHTML="",c.appendChild(e),c.appendChild(n),c.appendChild(l),c.appendChild(o);let i=document.createElement("btn");i.setAttribute("class","modal-submit"),i.innerHTML="Submit",c.appendChild(i),i.addEventListener("click",(function(){s(e.value,n.value,l.value)}))},n.onclick=function(){t.style.display="none"},window.onclick=function(e){e.target==t&&(t.style.display="none")}},o=document.querySelector(".ls-todos"),c=e=>{var t=document.getElementsByClassName("active");t.length>0&&(t[0].className=t[0].className.replace(" active","")),h.innerHTML=e.innerHTML,e.className+=" active"},i=e=>{for(let t=0;t<u.length;t++)u[t].name.includes(e.textContent)&&(o.innerHTML="",u[t].list.forEach((e=>{const t=document.createElement("div");t.innerHTML=`<div class ="taskName">${e.task}</div> \n        <span class ="dueDate">Due: ${e.date}</span>\n        <span class="priorityLevel">${e.priority} </span>   \n        <div id="icons">\n        <button class = "ex"><i class="fas fa-trash"></i></button> \n         <button class ="edit"><i class="fas fa-edit"></i></button>\n         </div>`,t.setAttribute("class","list-styling"),o.prepend(t),document.querySelector(".fa-trash").addEventListener("click",(function(){r(this)})),l(),document.querySelector(".fa-edit").addEventListener("click",(function(){console.log("e")}))})))},a=()=>{const e=document.createElement("input"),n=document.createElement("br"),s=document.createElement("button"),l=document.querySelector(".main");l.appendChild(n),l.appendChild(e),e.setAttribute("type","text"),e.setAttribute("class","bookInput"),l.appendChild(s),s.innerHTML="Submit",s.setAttribute("id","projectsubmit"),s.addEventListener("click",(function(){const n=document.createElement("div");n.setAttribute("class","projecttitles"),n.innerHTML=e.value;const a=new t(`${e.value}`,`${u.length}`);u.push(a),localStorage.setItem("projects",JSON.stringify(u)),e.style.display="none",s.style.display="none",l.appendChild(n),n.addEventListener("click",(function(){c(this),console.log("here now"),o.innerHTML="",i(this)}))}))},r=e=>{for(let n=0;n<u.length;n++){let s=e.parentElement.parentElement.parentElement.firstChild.textContent;var t=u[n].list.map((function(e){return e.task})).indexOf(s);u[n].list.splice(t,1),localStorage.setItem("projects",JSON.stringify(u)),e.parentElement.parentElement.parentElement.style.display="none"}};let d=JSON.parse(localStorage.getItem("projects")),u=[];const m=document.querySelector("#projectadd");d&&(u=d),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".main");null!==localStorage.getItem("projects")&&u.forEach((t=>{const n=document.createElement("div");n.setAttribute("class","projecttitles"),n.innerHTML=t.name,e.appendChild(n),console.log(t)}))})()),m.addEventListener("click",(function(){a()})),n.addEventListener("click",(function(){s(y.value,v.value,f.value)}));const p=document.querySelectorAll(".projecttitles"),h=document.querySelector("#project-name");p.forEach((e=>{e.addEventListener("click",(function(){c(this),i(this),console.log(this.textContent)}))})),console.log(u);const y=document.querySelector(".task-input"),v=document.querySelector("#start"),f=document.querySelector("#priority")})();